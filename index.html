<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Green Jobs Training Program</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
    <link
      href="https://api.tiles.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0;
        padding: 0;
        display: flex; /* Add this line to make the body a flex container */
        
      }

      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
        flex-grow: 1; /* Add this line to make the map flex-grow and take the remaining space */
      }

      .container {
        display: flex;
        z-index: 1; /* Add this line to set the z-index of the container */
      }

      .sidebar {
        transition: transform 0.5s;
        font-family: "Georgia", "sans-serif";
        width: 300px;
        position: fixed;
        z-index: 2;
        top: 20px; 
        left: 20px;
        background-color: #333;
        color: white;
        padding: 20px;
        box-sizing: border-box;
        
        
         /* Add this line to set the z-index of the sidebar */
      }

      .sidebar h2 {
        margin-bottom: 20px;
      }

      .content {
        flex-grow: 1;
        padding: 20px;
        box-sizing: border-box;
      }

      /* Example formatting for the main content */
      .content h1 {
        color: #333;
      }

      .content p {
        line-height: 1.6;
      }
          a:link {
          color: black;
          background-color: transparent;
          text-decoration: none;
        }
        a:visited {
          color: mediumseagreen;
          background-color: transparent;
          text-decoration: none;
        }
        a:hover {
          color: rgb(47, 101, 60);
          background-color: transparent;
          text-decoration: underline;
        }
        a:active {
          color: gray;
          background-color: transparent;
          text-decoration: underline;
        }
      .left.collapsed {
        transform: translateX(-295px);
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <div class="container">a
      <div class="sidebar">
        <h2>NYC's Green Jobs Training Program</h2>
        <p>
          New York City's emerging green economy is poised to become an
                important source of well-paying jobs in the years ahead.
                However, ensuring that many more New Yorkers are prepared to
                access and succeed in these jobs will require a new level of
                awareness about the education and training infrastructure
                aligned with these careers. This map and the Center for an Urban
                Futureâ€™s corresponding report XXTITLE provide the first detailed
                overview of programs that are helping to prepare New Yorkers for
                green economy jobs.
              <p>
        </p>  <b>
                  Explore the landscape of more than 30 nonprofit and low-cost
                  green jobs training programs currently operating in New York
                  City.
                </b>
        </p>
         <figure style="display: flex">
                <a href="https://nycfuture.org/">
                  <img
                    style="
                      max-width: 576px;
                      height: 49px;
                      margin: 10px;
                      width: 90px;
                    "
                    src="https://github.com/rneches/Green-Jobs-Workforce-Development/blob/68cdf6703d4f7789814d3723fc9f0ecc3e6a6b97/CUF_logo_allwhite.png"
                    alt="Center for an Urban Future"
                    class="left"
                /></a>
                <a href="https://www.jpmorganchase.com/impact">
                  <img
                    style="
                      max-width: 576px;
                      height: 49px;
                      margin: 10px;
                      width: 130px;
                    "
                    src="https://github.com/rneches/Green-Jobs-Workforce-Development/blob/457ee79ca0a61fe65d5f3e1d9c8f948733c531f6/jpmorgan.png"
                    alt="JP Morgan Chase & Co."
                    class="right"
                /></a>
              </figure>
      </div>
      
    </div>
    <script>
      mapboxgl.accessToken =
        "pk.eyJ1Ijoicm5lY2hlcyIsImEiOiJjbG9ldDZ0c2kwNHlzMnF1aHc2Y3ZoYnRpIn0.6KYtFVJxn1QMxHjYhEN76Q";
      const map = new mapboxgl.Map({
        container: "map",
        style: "mapbox://styles/rneches/clog4zn5g006501qkg6f6azzy/draft",
        center: [-73.911, 40.722],
        zoom: 10.8,
      });


      map.on("load", function () {
        toggleSidebar("left");
      });

      // Add filled county polygons
      // for highlighted display.

      /* 
Add an event listener that runs
  when a user clicks on the map element.
*/
        // Add filled county polygons
        // for highlighted display.

        /* 
Add an event listener that runs
  when a user clicks on the map element.
*/
        map.on("click", (event) => {
          // If the user clicked on one of your markers, get its information.
          const features = map.queryRenderedFeatures(event.point, {
            layers: ["geocoded-green-jobs-training-704r4g"], // replace with your layer name
          });
          if (!features.length) {
            return;
          }
          const feature = features[0];
          
          
          
          // Code from the next step will go here.
          /* 
          
    Create a popup, specify its options 
    and properties, and add it to the map.
  */

          
          const popup = new mapboxgl.Popup({ offset: [0, -15] })
            .setLngLat(feature.geometry.coordinates)
            .setHTML(
              '<h3><p style="color:DarkOliveGreen; font-size:20px; line-height:22px"><a href="' +
                feature.properties.URL +
                '">' +
                feature.properties.program_name +
                "</a></h3>" +
                '<h3><em><p style = "color:SlateGrey; font-size:15px; ">' +
                feature.properties.skills +
                "</em></h3>" +
                "<p><b>Participants: </b>" +
                feature.properties.patrons +
                "</p>" +
                feature.properties.Description +
                "</p>"
            )

            .addTo(map);
        });
    </script>
  </body>
</html>
